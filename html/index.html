<%inherit file="base.html"/>
<h1 class="text-center">${title}</h1>

% if not images == None and len(images) > 0:
    <ul class="image-list center-block">
    % for i in images:
        <%
        if i.thumb == None:
            thumb = i.path
        else:
            thumb = i.thumb
        
        if i.grey > 168:
            infocolor = "dark"
        else:
            infocolor = "light"
        
        infosize = ""
        if not i.size_x == None:
            infosize = "{} &times; {}, ".format(i.size_x, i.size_y)
        %>
        <li class="image">
            <a href="${i.path}">
                <img src="${thumb}" class="img-thumbnail" />
            </a>
            
            <div class="average-color" style="background: ${i.average_color}">
                <div class="image-info">
                    <small class="${infocolor}">
                        ${infosize}${i.filesize}
                    </small>
                </div>
            </div>
            
            <p class="image-url">
                <a href="${i.path}" class="lead">${i.file}</a>
            </p>
            
        </li>
    % endfor
    </ul>
    <div style="clear: both;"></div>
    % if total_pages > 1:
    <p class="text-center">
        % if page == 2:
        <a href="/">&lt;</a>
        % elif page > 2:
        <a href="/page/${page - 1}">&lt;</a>
        % endif
        
        Page ${page} of ${total_pages}
        
        % if page < total_pages:
        <a href="/page/${page + 1}">&gt;</a>
        % endif
    </p>
    % endif
% elif not message == None and not message == "":
    <p class="lead text-center">
        ${message}
    </p>
% else:
    <p class="lead text-center muted-text">
        There's nothing to see here.
    </p>
% endif